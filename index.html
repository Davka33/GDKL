<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GDKL — Demon Server</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #080808;
      --panel: #0f2525;
      --neon: #00f0d6;
      --neon-strong: #00e7d0;
      --muted: #9fbfb9;
      --error: #ff7b7b;
      --success: #6fbf7b;
      --easy: #4CAF50;
      --normal: #2196F3;
      --hard: #9C27B0;
      --insane: #FF9800;
      --extreme: #F44336;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; font-family: 'Orbitron', sans-serif; background: var(--bg); color: #e7f7f6; }
    header { position: sticky; top: 0; z-index: 40; background: rgba(0,0,0,0.7); padding: 10px 40px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 6px 30px rgba(0,0,0,0.6); }
    .logo { display: flex; align-items: center; gap: 12px; }
    .logo .mark { width: 44px; height: 30px; border-radius: 6px; display: inline-grid; place-items: center; background: linear-gradient(135deg, #ffc84a, #ff6a00); font-weight: 700; color: #071018; }
    .logo .title { color: var(--neon); font-size: 24px; letter-spacing: 1px; text-shadow: 0 0 18px rgba(0,240,214,0.25); }
    nav ul { display: flex; gap: 26px; list-style: none; margin: 0; padding: 0; }
    nav a { color: #fff; text-decoration: none; opacity: 0.9; transition: opacity 0.3s; }
    nav a:hover { opacity: 1; text-shadow: 0 0 10px rgba(0,240,214,0.5); }
    main { max-width: 1100px; margin: 38px auto; padding: 0 20px 120px; }
    .panel { background: rgba(5,20,20,0.85); border-radius: 12px; padding: 28px; margin-bottom: 36px; border: 2px solid rgba(0,230,210,0.08); box-shadow: 0 0 24px rgba(0,230,210,0.12) inset, 0 12px 40px rgba(0,240,214,0.06); }
    .section-title { color: var(--neon); font-size: 22px; margin: 0 0 14px; text-shadow: 0 0 18px rgba(0,240,214,0.18); }
    .lead { color: var(--muted); line-height: 1.6; }
    .download-options { display: flex; gap: 15px; margin-top: 20px; }
    .download-btn { display: inline-block; padding: 14px 22px; border-radius: 10px; background: var(--neon); color: #03211f; font-weight: 700; text-decoration: none; box-shadow: 0 6px 22px rgba(0,240,214,0.18); transition: all 0.3s; text-align: center; flex: 1; }
    .download-btn:hover { background: var(--neon-strong); box-shadow: 0 6px 30px rgba(0,240,214,0.3); }
    .tabs { display: flex; gap: 10px; margin-bottom: 15px; }
    .tab-btn { padding: 10px 18px; background: rgba(0,240,214,0.1); border: none; border-radius: 6px; color: var(--neon); font-weight: bold; cursor: pointer; transition: 0.2s; }
    .tab-btn.active { background: var(--neon); color: #03211f; }
    .tab-btn:hover { background: var(--neon-strong); color: #03211f; }
    .demon-list-container { min-height: 200px; }
    .demon-list-header { display: flex; padding: 10px 15px; background: rgba(0,240,214,0.1); border-radius: 6px; margin-bottom: 10px; font-weight: bold; }
    .demon-list-header span { flex: 1; }
    .demon-list-header span:first-child { flex: 0.5; }
    .demon-item { display: flex; padding: 12px 15px; margin-bottom: 8px; background: rgba(5,20,20,0.6); border-radius: 6px; align-items: center; transition: all 0.2s; }
    .demon-item:hover { background: rgba(0,240,214,0.05); }
    .demon-rank { flex: 0.5; color: var(--neon); font-weight: bold; }
    .demon-name { flex: 1; font-weight: 500; }
    .demon-creator { flex: 1; color: var(--muted); font-size: 0.9em; }
    .demon-difficulty { padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; text-transform: uppercase; }
    .demon-video { color: var(--neon); text-decoration: none; font-size: 12px; margin-left: 10px; }
    .demon-video:hover { text-decoration: underline; }
    .demon-thumbnail { width: 60px; height: 40px; object-fit: cover; border-radius: 4px; margin-right: 10px; }
    .easy { background-color: var(--easy); }
    .normal { background-color: var(--normal); }
    .hard { background-color: var(--hard); }
    .insane { background-color: var(--insane); }
    .extreme { background-color: var(--extreme); }
    .no-levels { text-align: center; color: var(--muted); padding: 40px 20px; }
    .user-info small { color: var(--success); }
    .status-message { margin-top: 10px; padding: 10px; border-radius: 6px; text-align: center; }
    .error { background: rgba(255, 123, 123, 0.1); color: var(--error); }
    .success { background: rgba(111, 191, 123, 0.1); color: var(--success); }
    footer { padding: 22px 0; text-align: center; color: #7b7b7b; background: rgba(0,0,0,0.4); position: fixed; bottom: 0; width: 100%; }
  </style>
</head>
<body>
<header>
  <div class="logo">
    <div class="mark">GD</div>
    <div class="title">GDKL</div>
  </div>
  <nav>
    <ul>
      <li><a href="#about">About</a></li>
      <li><a href="#download">Download</a></li>
      <li><a href="#demon">Demon List</a></li>
      <li><a href="tops.html">Player Tops</a></li>
      <li><a href="pravila.html">Rules</a></li>
      <li><a href="register.html" id="registerLink">Register</a></li>
      <li><a href="admin.html" id="adminLink">Admin Panel</a></li>
    </ul>
  </nav>
</header>
<main>
  <section id="about" class="panel">
    <h1 class="section-title">About</h1>
    <p class="lead">A private GD server with the coolest demons, custom levels, and a unique style. Only <strong>GDKL</strong>.</p>
  </section>

  <section id="download" class="panel">
    <h1 class="section-title">Download</h1>
    <p class="lead">Choose your platform:</p>
    <div class="download-options">
      <a class="download-btn" href="https://drive.google.com/file/d/19KPm1N-y3mKZrevl8kySKKgwke6y1Nb0/view?usp=sharing" target="_blank">Android</a>
      <a class="download-btn" href="https://mega.nz/file/UYZXCYpA#lEedhu5QJb62_im1pdfZDPhohFTYtsegxLfcNfnJyV4" target="_blank">PC</a>
    </div>
  </section>

  <section id="demon" class="panel">
    <h1 class="section-title">Demon List</h1>
    <div class="tabs">
      <button class="tab-btn active" data-tab="demon">Demons</button>
      <button class="tab-btn" data-tab="challenge">Challenges</button>
      <button class="tab-btn" data-tab="soon">Soon</button>
    </div>
    <div class="demon-list-container" id="demonListContainer">
      <div class="no-levels">No levels added yet</div>
    </div>
  </section>

  <section id="user" class="panel user-info">
    <h1 class="section-title">User Info</h1>
    <p class="lead"><small id="userStatus">You are not registered</small></p>
  </section>

  <div id="statusMessage" class="status-message" style="display: none;"></div>
</main>

<footer>© 2025 GDKL. All rights reserved.</footer>

<script>
function getDifficultyName(d) {
  const names = { easy: 'Easy', normal: 'Medium', hard: 'Hard', insane: 'Insane', extreme: 'Extreme' };
  return names[d] || d;
}

function loadDemonList(type = 'demon') {
  const container = document.getElementById('demonListContainer');
  const demonList = JSON.parse(localStorage.getItem('gdklDemonList')) || [];
  const filteredList = demonList.filter(d => d.type === type);

  if (filteredList.length === 0) {
    container.innerHTML = `<div class="no-levels">No ${type}s added yet</div>`;
    return;
  }

  filteredList.sort((a, b) => a.rank - b.rank);
  let html = `
    <div class="demon-list-header">
      <span>Rank</span><span>Name</span><span>Difficulty</span><span>Creator</span>
    </div>
  `;

  filteredList.forEach(demon => {
    let thumbnail = demon.image ? `<img src="${demon.image}" class="demon-thumbnail" alt="${demon.name} thumbnail">` : '';
    let videoLink = demon.video ? `<a href="${demon.video}" target="_blank" class="demon-video">[Video]</a>` : '';
    html += `
      <div class="demon-item">
        ${thumbnail}
        <span class="demon-rank">#${demon.rank}</span>
        <span class="demon-name">${demon.name}</span>
        <span class="demon-difficulty ${demon.difficulty}">${getDifficultyName(demon.difficulty)}</span>
        <span class="demon-creator">${demon.creator || 'Unknown'}</span>
        ${videoLink}
      </div>
    `;
  });

  container.innerHTML = html;
}

function updateUserStatus() {
  const isRegistered = localStorage.getItem('gdklRegistered') === 'true';
  const userStatus = document.getElementById('userStatus');

  if (isRegistered) {
    const userEmail = localStorage.getItem('gdklEmail') || 'User';
    userStatus.innerHTML = `Hello, <strong>${userEmail}</strong>! You are registered.`;
  } else {
    userStatus.textContent = 'You are not registered';
  }
}

function showStatusMessage(message, isError = false) {
  const statusMessage = document.getElementById('statusMessage');
  statusMessage.textContent = message;
  statusMessage.className = isError ? 'status-message error' : 'status-message success';
  statusMessage.style.display = 'block';
  setTimeout(() => {
    statusMessage.style.opacity = '0';
    setTimeout(() => {
      statusMessage.style.display = 'none';
      statusMessage.style.opacity = '1';
    }, 300);
  }, 3000);
}

document.addEventListener('DOMContentLoaded', function() {
  updateUserStatus();
  loadDemonList('demon');

  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      loadDemonList(btn.dataset.tab);
    });
  });

  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.has('registered')) {
    showStatusMessage('Registration successful!');
    window.history.replaceState({}, document.title, window.location.pathname);
  }

  window.addEventListener('storage', function(e) {
    if (e.key === 'gdklDemonList') {
      const activeTab = document.querySelector('.tab-btn.active').dataset.tab;
      loadDemonList(activeTab);
    }
  });
});
</script>
</body>
</html>
